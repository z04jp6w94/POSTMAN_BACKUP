{"collection":{"info":{"_postman_id":"ee659e56-afbd-4d68-9f4b-1e0b86563dde","name":"TOPONE API","schema":"https://schema.getpostman.com/json/collection/v2.1.0/collection.json","updatedAt":"2024-08-12T09:43:40.000Z","createdAt":"2024-08-12T09:43:40.000Z","lastUpdatedBy":"5940628","uid":"5940628-ee659e56-afbd-4d68-9f4b-1e0b86563dde"},"item":[{"name":"前台","item":[{"name":"註冊發送Email","event":[{"listen":"test","script":{"exec":["if (pm.response.code === 200) {","    var json = pm.response.json()","    if (json.data && json.data.code) {","        pm.collectionVariables.set(\"verifyCode\", json.data.code)","    }","}"],"type":"text/javascript","packages":{},"id":"d2b6db32-552b-46be-a707-0391fb14eeee"}},{"listen":"prerequest","script":{"exec":["// 定義生成隨機字元的函數","function generateRandomString(length) {","    var characters = 'abcdefghijklmnopqrstuvwxyz0123456789';","    var result = '';","    for (var i = 0; i < length; i++) {","        var randomIndex = Math.floor(Math.random() * characters.length);","        result += characters[randomIndex];","    }","    return result;","}","","var email = 'pm' + generateRandomString(10) + '@example.com';","pm.collectionVariables.set(\"registerMail\", email);","","",""],"type":"text/javascript","packages":{},"id":"b80c1a56-ac4e-4684-9866-3767ab053e05"}}],"id":"5c62a884-e426-47b3-94b2-5199f6ff144f","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"auth":{"type":"noauth"},"method":"POST","header":[],"body":{"mode":"raw","raw":"{\n   \"login_id\": \"{{registerMail}}\",\n   \"area_code\": \"\",\n   \"login_type\": 1\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{topone-api}}/gateway/v1/register/security/code","host":["{{topone-api}}"],"path":["gateway","v1","register","security","code"]}},"response":[],"uid":"5940628-5c62a884-e426-47b3-94b2-5199f6ff144f"},{"name":"註冊","event":[{"listen":"prerequest","script":{"exec":["var pass = pm.collectionVariables.get('registerPassword');\r","console.log(\"pass :: \" + pass)\r","\r","var sha256Hash =  CryptoJS.SHA256(pass).toString();\r","\r","pm.collectionVariables.set(\"registerPasswordEnc\", sha256Hash);\r","\r","//Method used to add Query params via script\r","//pm.request.addQueryParams(\"sha256Hash=\" + sha256Hash + \"&infoData=\" + pm.collectionVariables.get(\"infoData\"));\r","console.log(\"sha256Hash :: \" + sha256Hash)\r",""],"type":"text/javascript","packages":{},"id":"8a3fe528-c168-418d-abb2-3b6bb88a4569"}}],"id":"7d415b25-4f72-4f04-a2af-cdbe6356cfd5","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"auth":{"type":"noauth"},"method":"POST","header":[{"key":"X-DEVICE-ID","value":"{{$guid}}","type":"text"},{"key":"X-IP","value":"{{deviceIp}}","type":"text"}],"body":{"mode":"raw","raw":"{\n    \"login_id\": \"{{registerMail}}\",\n    \"login_type\": 1,\n    \"password\": \"{{registerPasswordEnc}}\",\n    \"referral_code\": \"UUUUUU\",\n    \"security_code\": \"{{verifyCode}}\",\n    \"security_type\": \"email\"\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{topone-api}}/gateway/v2/register","host":["{{topone-api}}"],"path":["gateway","v2","register"]}},"response":[],"uid":"5940628-7d415b25-4f72-4f04-a2af-cdbe6356cfd5"},{"name":"登入","event":[{"listen":"test","script":{"exec":["if (pm.response.code == 200) {","    var json = pm.response.json()","    if (json.data && json.data.access_token) {","        pm.collectionVariables.set(\"memberToken\", json.data.access_token)","    }","    if (json.data && json.data.uid) {","        pm.collectionVariables.set(\"memberUid\", json.data.uid)","    }","}",""],"type":"text/javascript","packages":{},"id":"78dd6407-7aa8-435b-a064-ab724d82cc17"}},{"listen":"prerequest","script":{"packages":{},"type":"text/javascript","id":"430a16e7-a02b-4ab6-8de5-a977ae80a03f"}}],"id":"dafe656e-b2b9-4d8e-81c5-c85cbb46bcdf","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"auth":{"type":"noauth"},"method":"POST","header":[{"key":"X-Device-ID","value":"{{deviceId}}","type":"text"},{"key":"X-IP","value":"{{deviceIp}}","type":"text"}],"body":{"mode":"raw","raw":"{\n    \"login_id\": \"{{registerMail}}\",\n    \"login_type\": 1,\n    \"password\": \"{{registerPasswordEnc}}\"\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{topone-api}}/gateway/v1/login","host":["{{topone-api}}"],"path":["gateway","v1","login"]}},"response":[],"uid":"5940628-dafe656e-b2b9-4d8e-81c5-c85cbb46bcdf"},{"name":"充值-增加可用餘額","id":"fcd0d328-2f2b-4fdc-a759-ed6f049fd056","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[{"key":"X-DEVICE-ID","value":"{{deviceId}}","type":"text"},{"key":"X-IP","value":"{{deviceIp}}","type":"text"}],"body":{"mode":"raw","raw":"{\n  \"order_id\": \"{{$guid}}\",\n  \"uid\": \"{{memberUid}}\",\n  \"crypto\": \"USDT\",\n  \"amount\": \"100000000.00\"\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{topone-api}}/wallet/v1/deposit","host":["{{topone-api}}"],"path":["wallet","v1","deposit"]}},"response":[],"uid":"5940628-fcd0d328-2f2b-4fdc-a759-ed6f049fd056"},{"name":"查詢餘額","id":"43c412cc-26c3-43d5-b940-08f16e9e831f","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[{"key":"X-DEVICE-ID","value":"{{deviceId}}","type":"text"},{"key":"X-IP","value":"{{deviceIp}}","type":"text"}],"body":{"mode":"raw","raw":"","options":{"raw":{"language":"json"}}},"url":{"raw":"{{topone-api}}/wallet/v1/balance/{{memberUid}}/user","host":["{{topone-api}}"],"path":["wallet","v1","balance","{{memberUid}}","user"]}},"response":[],"uid":"5940628-43c412cc-26c3-43d5-b940-08f16e9e831f"},{"name":"開倉劃轉","id":"a0a65237-f1e6-46d8-9163-aecebc705618","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[{"key":"X-DEVICE-ID","value":"{{deviceId}}","type":"text"},{"key":"X-IP","value":"{{deviceIp}}","type":"text"}],"body":{"mode":"raw","raw":"{\n    \"from\": \"funding\",\n    \"to\": \"trading\",\n    \"crypto\": \"USDT\",\n    \"amount\": \"1000000\"\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{topone-api}}/gateway/v1/wallet/transfer","host":["{{topone-api}}"],"path":["gateway","v1","wallet","transfer"]}},"response":[],"uid":"5940628-a0a65237-f1e6-46d8-9163-aecebc705618"},{"name":"下委託單(市價)","event":[{"listen":"test","script":{"exec":["if (pm.response.code === 200) {","    var json = pm.response.json()","    if (json.data && json.data.position_order_id) {","        pm.collectionVariables.set(\"currentPositionOrderId\", json.data.position_order_id)","    }","}"],"type":"text/javascript","packages":{},"id":"385236fb-6d43-41d2-9472-fc23d09cceb6"}}],"id":"6f1fbf08-8adc-4946-b76f-03d800dc19e2","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[{"key":"X-DEVICE-ID","value":"{{deviceId}}","type":"text"},{"key":"X-IP","value":"{{deviceIp}}","type":"text"}],"body":{"mode":"raw","raw":"{\n    \"uid\": \"{{memberUid}}\",\n    \"pair\": \"BTCUSDT\",\n    \"side\": \"buy\",\n    \"position_side\": \"long\",\n    \"quantity\": \"0\",\n    \"margin\": \"1000\",\n    \"leverage\": 1000,\n    \"take_profit_price\": \"84123.12\",\n    \"stop_loss_price\": 0,\n    \"price\": \"0\"\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{topone-api}}/gateway/v1/future/order","host":["{{topone-api}}"],"path":["gateway","v1","future","order"]}},"response":[],"uid":"5940628-6f1fbf08-8adc-4946-b76f-03d800dc19e2"},{"name":"平倉","id":"bb92a8ae-8291-447f-84d9-b0a047e57d76","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[],"body":{"mode":"raw","raw":"{\n    \"order_id\": \"{{currentPositionOrderId}}\"\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{topone-api}}/gateway/v1/future/position/close","host":["{{topone-api}}"],"path":["gateway","v1","future","position","close"]}},"response":[],"uid":"5940628-bb92a8ae-8291-447f-84d9-b0a047e57d76"}],"id":"b9d2828b-0566-47a5-ba93-b9e815696fa2","auth":{"type":"bearer","bearer":[{"key":"token","value":"{{memberToken}}","type":"string"}]},"event":[{"listen":"prerequest","script":{"type":"text/javascript","packages":{},"exec":[""],"id":"be18f1f3-fcb0-42f1-a6d7-072c69a54750"}},{"listen":"test","script":{"type":"text/javascript","packages":{},"exec":[""],"id":"47f50b3a-4bcd-45fe-b468-67ba5204173e"}}],"uid":"5940628-b9d2828b-0566-47a5-ba93-b9e815696fa2"},{"name":"後台","item":[{"name":"登入","event":[{"listen":"prerequest","script":{"exec":["var encodedPassword = CryptoJS.enc.Base64.stringify(CryptoJS.enc.Utf8.parse(pm.collectionVariables.get(\"boPassword\")));","pm.collectionVariables.set(\"encodedPassword\", encodedPassword);"],"type":"text/javascript","packages":{},"id":"905c91ec-15ee-41a9-8b3f-e70cea7fd0bc"}},{"listen":"test","script":{"exec":["if(pm.response.code === 200) {","    var json = pm.response.json()","    if(json.data && json.data.access_token) {","        pm.collectionVariables.set(\"boToken\", json.data.access_token)","    }","}"],"type":"text/javascript","packages":{},"id":"98edeba1-8e6d-4222-af7a-96d2948852da"}}],"id":"b2e147e3-e26b-4872-8938-f2ac0a4e7fc9","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"auth":{"type":"noauth"},"method":"POST","header":[],"body":{"mode":"raw","raw":"{\n    \"email\": \"{{boEmail}}\",\n    \"password\": \"{{encodedPassword}}\",\n    \"token\": \"\"\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{topone-api}}/bo-gateway/v1/member/login","host":["{{topone-api}}"],"path":["bo-gateway","v1","member","login"]}},"response":[],"uid":"5940628-b2e147e3-e26b-4872-8938-f2ac0a4e7fc9"},{"name":"查詢幣種","id":"bb401746-3f09-4eac-a6d2-c930e663a4b4","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[],"url":{"raw":"{{topone-api}}/bo-gateway/v1/crypto/list?page_index=1&page_size=20","host":["{{topone-api}}"],"path":["bo-gateway","v1","crypto","list"],"query":[{"key":"page_index","value":"1"},{"key":"page_size","value":"20"}]}},"response":[],"uid":"5940628-bb401746-3f09-4eac-a6d2-c930e663a4b4"},{"name":"調整最大開倉數量","id":"fb5abab8-b8a6-4cd1-a5c5-61e03c50936a","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"PUT","header":[],"body":{"mode":"raw","raw":"{\n    \"max_position\": 2000000\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{topone-api}}/bo-gateway/v1/future/setting/base","host":["{{topone-api}}"],"path":["bo-gateway","v1","future","setting","base"]}},"response":[],"uid":"5940628-fb5abab8-b8a6-4cd1-a5c5-61e03c50936a"}],"id":"5f837117-b2c0-4b7b-99c4-906fb5bd8399","auth":{"type":"bearer","bearer":[{"key":"token","value":"{{boToken}}","type":"string"}]},"event":[{"listen":"prerequest","script":{"type":"text/javascript","packages":{},"exec":[""],"id":"273eb8c5-abdc-4feb-8443-715f304beaae"}},{"listen":"test","script":{"type":"text/javascript","packages":{},"exec":[""],"id":"8a805378-eea9-4691-a208-71260018e704"}}],"uid":"5940628-5f837117-b2c0-4b7b-99c4-906fb5bd8399"}],"event":[{"listen":"prerequest","script":{"type":"text/javascript","packages":{},"exec":[""],"id":"06a34a7e-5595-45a1-80c0-d23322b44b9f"}},{"listen":"test","script":{"type":"text/javascript","packages":{},"exec":[""],"id":"0bd1cc1a-b4b6-4c41-aaf3-357bee433678"}}],"variable":[{"key":"registerMail","value":"","type":"string"},{"key":"registerPassword","value":"pass123456","type":"string"},{"key":"verifyCode","value":"","type":"string"},{"key":"boEmail","value":"admin","type":"string"},{"key":"boPassword","value":"abcd1234","type":"string"},{"key":"encodedPassword","value":"","type":"string"},{"key":"boToken","value":"","type":"string"},{"key":"deviceId","value":"TEST_DEVICE","type":"string"},{"key":"deviceIp","value":"127.0.0.1","type":"string"},{"key":"memberToken","value":"","type":"string"},{"key":"memberUid","value":"","type":"string"},{"key":"currentPositionOrderId","value":"","type":"string"},{"key":"topone-api","value":"https://poc.yolecloud.com","type":"string"},{"key":"registerPasswordEnc","value":"","type":"string"}]}}